---
title: NPM
description: Publish packages to NPM registry
---

Releases an NPM package to the public registry. Requires a package tarball generated by `npm pack` in the artifacts.

## Configuration

| Option | Description |
|--------|-------------|
| `access` | Visibility for scoped packages: `restricted` (default) or `public` |
| `checkPackageName` | Package to check for current version when determining `latest` tag |

## Environment Variables

| Name | Description |
|------|-------------|
| `NPM_TOKEN` | An [automation token](https://docs.npmjs.com/creating-and-viewing-access-tokens) allowed to publish |
| `NPM_BIN` | Path to npm executable. Default: `npm` |
| `YARN_BIN` | Path to yarn executable. Default: `yarn` |
| `CRAFT_NPM_USE_OTP` | If `1`, prompts for OTP (for 2FA) |

## Example

```yaml
targets:
  - name: npm
    access: public
```

## Notes

- The `npm` utility must be installed on the system
- If `npm` is not found, Craft falls back to `yarn publish`
- For scoped packages (`@org/package`), set `access: public` to publish publicly
